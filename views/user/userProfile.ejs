<%- include('../partials/header') -%>
    <link rel="stylesheet" href="../css/style.css">

    <div class="user-container">
        <div class="user-profile">
            <div class="user-name">
                <h2>
                    <%= userName %>
                </h2>
            </div>
        </div>
        <hr>

        <div class="posts my-4 row col-12">
            <% if(posts) { %>
                <% posts.forEach(post=> { %>
                    <div class="card blog-card-style item col-lg-4 col-sm-12">
                        <img src="<%= post.img %>" class="card-img-top profile-page-card-image" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">
                                <%= post.title %>
                            </h5>
                            <p class="card-text">
                                <%= post.desc.substring(0,70) + " ..." %>
                            </p>
                            <a href="/post/<%= post._id %>" class="btn btn-primary btn-style-user">Read</a>
                            <hr>

                            <div class="row">
                                <div class="column">
                                    <i class="fa-solid fa-calendar-days card-icon"></i><span>
                                        <%= post.createdAt.toString().slice(0,11) %>
                                    </span>
                                </div>
                                <div class="column ">
                                    <i class="fa-solid fa-user card-icon"></i><span>By : <%= post.author %></span>
                                </div>
                            </div>
                        </div>
                    </div>
                <% }) %>
            <% } else{ %>

                            <div class="animation-container">
                                <lottie-player src="https://assets10.lottiefiles.com/packages/lf20_u1xuufn3.json"  background="transparent"  speed="1"  style="max-width: 80% !important; height: 500px; margin: 0 auto;"  loop  autoplay></lottie-player>
                            </div>

                        <% } %>
        </div>
    </div>

    <%- include('../partials/footer') -%>